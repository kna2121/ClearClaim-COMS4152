<!DOCTYPE html>
<html>
  <head>
    <title>ClearClaim - AI Appeal Assistant</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }
      
      .navbar {
        max-width: 1200px;
        margin: 0 auto 40px;
        padding: 0 20px;
      }
      
      .logo {
        font-size: 32px;
        font-weight: 700;
        color: white;
        letter-spacing: -1px;
      }
      
      .container { max-width: 800px; margin: 0 auto; }
      
      .welcome-section {
        text-align: center;
        margin-bottom: 48px;
        color: white;
      }
      
      .welcome-section h1 {
        font-size: 48px;
        font-weight: 700;
        margin-bottom: 12px;
        letter-spacing: -1px;
      }
      
      .welcome-section p { font-size: 20px; opacity: 0.95; }
      
      .upload-card {
        background: white;
        border-radius: 20px;
        padding: 48px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        margin-bottom: 32px;
      }
      
      .upload-area {
        border: 3px dashed #e2e8f0;
        border-radius: 16px;
        padding: 60px 40px;
        text-align: center;
        transition: all 0.3s ease;
        background: #f8fafc;
        cursor: pointer;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      
      .upload-area:hover {
        border-color: #667eea;
        background: #f0f4ff;
        transform: translateY(-2px);
      }
      
      .upload-area.dragging {
        border-color: #667eea;
        background: #e0e7ff;
        border-style: solid;
      }
      
      .upload-icon-wrapper {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 24px;
      }
      
      .upload-icon-wrapper svg { color: white; }
      
      .upload-title {
        font-size: 20px;
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 8px;
      }
      
      .upload-description { font-size: 15px; color: #64748b; }
      input[type="file"] { display: none; }
      
      .file-card {
        background: #f8fafc;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        padding: 20px;
        display: flex;
        align-items: center;
        gap: 16px;
        margin-bottom: 24px;
      }
      
      .file-icon {
        width: 48px;
        height: 48px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      }
      
      .file-icon svg { color: white; }
      .file-details { flex: 1; min-width: 0; }
      
      .file-name {
        font-weight: 600;
        font-size: 16px;
        color: #1e293b;
        margin-bottom: 4px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
      
      .file-meta { font-size: 14px; color: #64748b; }
      
      .btn-remove {
        width: 36px;
        height: 36px;
        border-radius: 8px;
        border: none;
        background: #fee2e2;
        color: #ef4444;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
        flex-shrink: 0;
      }
      
      .btn-remove:hover { background: #fecaca; transform: scale(1.1); }
      .preview-container { margin-bottom: 24px; }
      .preview-header { margin-bottom: 12px; }
      
      .preview-title {
        font-size: 14px;
        font-weight: 600;
        color: #64748b;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
      
      .preview-frame {
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        overflow: hidden;
        background: #f8fafc;
      }
      
      .preview-frame iframe {
        width: 100%;
        height: 400px;
        border: none;
        display: block;
      }
      
      .btn-primary {
        width: 100%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 16px 32px;
        border: none;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        box-shadow: 0 4px 14px rgba(102, 126, 234, 0.4);
      }
      
      .btn-primary:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
      }
      
      .btn-primary:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }
      
      .spinner { animation: spin 1s linear infinite; }
      
      .spinner circle {
        stroke-dasharray: 90, 150;
        stroke-dashoffset: 0;
        animation: dash 1.5s ease-in-out infinite;
      }
      
      @keyframes spin { to { transform: rotate(360deg); } }
      
      @keyframes dash {
        0% { stroke-dasharray: 1, 150; stroke-dashoffset: 0; }
        50% { stroke-dasharray: 90, 150; stroke-dashoffset: -35; }
        100% { stroke-dasharray: 90, 150; stroke-dashoffset: -124; }
      }
      
      .results-section {
        background: white;
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        animation: fadeIn 0.4s ease;
      }
      
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      .results-header h2 {
        font-size: 28px;
        font-weight: 700;
        color: #1e293b;
        margin-bottom: 32px;
      }
      
      .results-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
      }
      
      .result-card {
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        border: 2px solid #e2e8f0;
        padding: 24px;
        border-radius: 12px;
        transition: all 0.2s;
      }
      
      .result-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        border-color: #cbd5e1;
      }
      
      .result-label {
        font-size: 12px;
        font-weight: 700;
        color: #64748b;
        text-transform: uppercase;
        letter-spacing: 0.8px;
        margin-bottom: 8px;
      }
      
      .result-value {
        font-size: 18px;
        font-weight: 600;
        color: #1e293b;
        word-break: break-word;
      }
      
      .error-message {
        background: #fee2e2;
        color: #991b1b;
        padding: 20px;
        border-radius: 12px;
        border: 2px solid #fecaca;
        font-weight: 500;
      }
      
      @media (max-width: 768px) {
        body { padding: 12px; }
        .welcome-section h1 { font-size: 32px; }
        .upload-card, .results-section { padding: 32px 24px; }
        .upload-area { padding: 40px 20px; }
        .results-grid { grid-template-columns: 1fr; }
      }
    </style>
  </head>

  <body>
    <nav class="navbar">
      <div class="logo">ClearClaim</div>
    </nav>
    
    <%= yield %>
  </body>
</html>
